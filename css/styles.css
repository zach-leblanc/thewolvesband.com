:root {
  --bg-image-1: url('../images/desert.jpg');
  --bg-image-2: url('../images/arch.jpg');
  --backdrop-darken: rgba(0,0,0,.55);
  --text: #f2f2f2;
  --muted: #c9c9c9;
  --accent: #e0b055;
  --nav-bg: rgba(0,0,0,.45);
  --nav-border: rgba(255,255,255,.15);
  --maxw: 58rem;
  --pad: clamp(16px, 2.2vmax, 36px);
  --gap: clamp(18px, 2.2vmax, 32px);
  --hgap: clamp(28px, 3vmax, 48px);
  --credit-size: clamp(14px);
  --title-size: clamp(24px, 3.6vmin + .6vw, 40px);
  --small: clamp(12px);
  --scrollbar: rgba(255,255,255,.25);
}

/* Fonts */
@font-face { font-family: 'PPLettraMono'; src: url('../fonts/PPLettraMono/PPLettraMono-Regular.otf') format('opentype'); font-weight: 400; font-style: normal; font-display: swap; }
@font-face { font-family: 'PPLettraMono'; src: url('../fonts/PPLettraMono/PPLettraMono-Medium.otf') format('opentype'); font-weight: 500; font-style: normal; font-display: swap; }
@font-face { font-family: 'PPLettraMono'; src: url('../fonts/PPLettraMono/PPLettraMono-Ultrabold.otf') format('opentype'); font-weight: 700; font-style: normal; font-display: swap; }
@font-face { font-family: 'PPLettraMono'; src: url('../fonts/PPLettraMono/PPLettraMono-Ultralight.otf') format('opentype'); font-weight: 200; font-style: normal; font-display: swap; }
@font-face { font-family: 'PPLettraMono'; src: url('../fonts/PPLettraMono/PPLettraMono-RegularItalic.otf') format('opentype'); font-weight: 400; font-style: italic; font-display: swap; }
@font-face { font-family: 'PPLettraMono'; src: url('../fonts/PPLettraMono/PPLettraMono-MediumItalic.otf') format('opentype'); font-weight: 500; font-style: italic; font-display: swap; }
@font-face { font-family: 'PPLettraMono'; src: url('../fonts/PPLettraMono/PPLettraMono-UltraboldItalic.otf') format('opentype'); font-weight: 700; font-style: italic; font-display: swap; }
@font-face { font-family: 'PPLettraMono'; src: url('../fonts/PPLettraMono/PPLettraMono-UltralightItalic.otf') format('opentype'); font-weight: 200; font-style: italic; font-display: swap; }

html { scroll-behavior: smooth; }

body {
  margin: 0;
  color: var(--text);
  font-family: 'PPLettraMono', Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  line-height: 1.6;
  background: #000;
  min-height: 100svh;
  overflow-x: hidden;
}

body::before {
  content:"";
  position: fixed; inset:0;
  background-image: var(--bg-image-1);
  background-size: cover;
  background-position: center;
  filter: saturate(.9) brightness(.9);
  z-index: -2;
  transition: opacity 2s ease-in-out;
  opacity: 1;
}

body::after {
  content:"";
  position: fixed; inset:0;
  background-image: var(--bg-image-2);
  background-size: cover;
  background-position: center;
  z-index: -2;
  opacity: 0;
  transition: opacity 2s ease-in-out;
}

body.bg-alt::after { opacity: 1; }
body.bg-alt::before { opacity: 0; }

/* Overlay for readability */
body::before, body::after {
  position: fixed; inset:0;
}
body::after.overlay {
  content:"";
  background: linear-gradient(180deg, rgba(0,0,0,.85), var(--backdrop-darken)),
              radial-gradient(1200px 600px at 70% 10%, rgba(0,0,0,.15), transparent 60%);
  z-index: -1;
}

/* Layout */
.page {
  display: grid;
  grid-template-columns: 80% 20%;
  column-gap: var(--hgap);
  padding: var(--pad);
}

.title {
  font-weight: 700;
  font-size: clamp(34px,5.5vmin,68px);
  letter-spacing:.16em;
  text-transform: uppercase;
  text-align: center;
  margin: 0 0 10svh 0;
}

.spacer-top { height: 12svh; }
.spacer-bottom { height: 26svh; }

/* Musician sections */
.musician-row {
  display:flex;
  flex-direction:row;
  align-items:center;
  gap:24px;
  margin-bottom:2rem;
}
.musician-img {
  width:200px;
  height:200px;
  border-radius:200px;
  object-fit:cover;
}
.musician-info { display:flex; flex-direction:column; align-items:start; }
.musician-desc { text-align:justify; font-style:italic; }

/* Side nav */
.side-nav {
  position: sticky; top: var(--pad);
  align-self: start;
  height: calc(100svh - var(--pad)*2);
  display: flex; flex-direction: column;
  justify-content: start;
  gap: var(--gap);
  padding: 14px;
  border-radius: 18px;
  background: transparent;
  overflow: hidden;
}
.brand {
  font-size: 18px; letter-spacing: .08em; text-transform: uppercase;
  line-height: 1.2;
}
.navlist {
  display: flex; flex-direction: column; gap: 10px; 
  overflow-y: auto; scrollbar-width: thin;
}
.navlist::-webkit-scrollbar { width: 6px; }
.navlist::-webkit-scrollbar-thumb { background: var(--scrollbar); border-radius: 99px; }
.navlist a {
  display: grid; grid-template-columns: 16px 1fr; align-items: center; gap: 8px;
  text-decoration: none; color: var(--muted);
  font-size: 14px; letter-spacing: .04em; text-transform: uppercase;
  padding: 8px 10px; border-radius: 12px;
  transition: color .2s ease, background .2s ease;
  outline-offset: 3px;
}
.navlist a .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--muted); opacity: .7; }
.navlist a:hover { color: var(--text); background: rgba(255,255,255,.05); }
.navlist a[aria-current="true"], .navlist a.active {
  color: var(--accent);
  background: rgba(255, 211, 105, .06);
}
.navlist a[aria-current="true"] .dot, .navlist a.active .dot { background: var(--accent); opacity: 1; }

.footnote { font-size: var(--small); opacity: .8; }

/* Credits */
main { min-height: 100svh; }
.credits {
  list-style: none; padding: 0; margin: 0;
  display: flex; flex-direction: column; gap: var(--gap);
  counter-reset: chapter;
}
.credits section {
  padding-block: min(20svh, 20rem);
}
.credits h2 {
  font-weight: 700; letter-spacing: .12em; text-transform: uppercase;
  font-size: var(--title-size);
  margin: 0 0 10px 0;
  text-align: center;
}
.credits .sub {
  text-align: center; color: var(--muted); margin-bottom: 22px; font-size: var(--small);
  letter-spacing: .06em; text-transform: uppercase;
}
.credits p {
  margin: 0 auto; max-width: 52rem; font-size: var(--credit-size); line-height: 1.9; letter-spacing: .02em;
  text-align: center;
  margin-bottom: 2rem;
}
.credits p:last-child { margin-bottom: 0; }

/* Fade-in animation */
.fade-in { opacity: 0; transform: translateY(18px); filter: blur(2px); transition: opacity .7s ease, transform .7s ease, filter .7s ease; }
.fade-in.is-visible { opacity: 1; transform: translateY(0); filter: blur(0); }

/* Anchors for scrolling */
.anchor { scroll-margin-top: 18svh; }

/* Links */
a { color: var(--accent); }

/* Focus and selection */
:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; border-radius: 10px; }
::selection { background: rgba(255,211,105,.3); }

/* Progress bar */
.progress {
  position: fixed; left: 0; top: 0; height: 3px; width: 0; background: var(--accent); z-index: 50;
  box-shadow: 0 0 12px rgba(255,211,105,.6);
}

/* Musician img/text responsive */
@media (max-width: 1000px) {
  .page { grid-template-columns: 1fr minmax(0, var(--maxw)); }
  .side-nav { position: fixed; right: var(--pad); bottom: var(--pad); top: auto; height: auto; max-height: 50svh; z-index: 20; }
}
@media (max-width: 640px) {
  .page { padding-right: calc(var(--pad) + 84px); }
  .side-nav { right: 12px; left: auto; width: min(70vw, 320px); }
  .navlist a { font-size: 12px; }
}
